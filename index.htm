<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAX OS 0.01.0 beta</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            user-select: none;
        }

        body {
            background: #000;
            overflow: hidden;
        }

        /* ===== –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò ===== */
        #bootScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            background-image: linear-gradient(rgba(0,0,0,0.9), rgba(0,0,0,0.9)), 
                            url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" viewBox="0 0 200 200"><defs><linearGradient id="g" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="%234ECDC4"/><stop offset="100%" stop-color="%23FF6B6B"/></linearGradient></defs><path d="M37.5,186c-12.1-10.5-11.8-32.3-7.2-46.7c4.8-15,13.1-17.8,30.1-36.7C91,68.8,83.5,56.7,103.4,45c22.2-13.1,51.1-9.5,69.6-1.6c18.1,7.8,15.7,15.3,43.3,33.2c28.8,18.8,37.8,10.5,50.7,33.9c13.8,24.8-5.2,42.9-21.3,36.7c-8.2-3.1-17.3-5.8-31.1-8.3c-35.3-6.4-65.9-1.4-81.9,4c-27.4,9.1-30.5,20.3-60.1,28.4C87.6,198.4,76.9,204,37.5,186z" fill="url(%23g)" opacity="0.5"/></svg>');
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s;
        }

        .boot-logo {
            font-size: 4.5rem;
            font-weight: bold;
            margin-bottom: 2rem;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(78, 205, 196, 0.5);
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 20px rgba(78, 205, 196, 0.5); }
            to { text-shadow: 0 0 30px rgba(255, 107, 107, 0.7); }
        }

        .boot-progress {
            width: 300px;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 20px;
        }

        .boot-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
            transition: width 0.3s;
            border-radius: 3px;
        }

        .boot-text {
            margin-top: 20px;
            color: #8ba0b5;
            font-size: 0.9rem;
        }

        /* ===== –≠–ö–†–ê–ù –í–•–û–î–ê ===== */
        #loginScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            background-image: linear-gradient(rgba(0,0,0,0.85), rgba(0,0,0,0.85)), 
                            url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" opacity="0.1"><path d="M0,50 C20,0 50,0 50,50 C50,100 80,100 100,50" stroke="white" fill="none"/></svg>');
            background-size: cover;
            background-position: center;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .login-container {
            background: rgba(20, 20, 20, 0.9);
            backdrop-filter: blur(20px);
            padding: 50px 40px;
            border-radius: 25px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            width: 350px;
        }

        .login-title {
            color: white;
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .login-subtitle {
            color: #8ba0b5;
            margin-bottom: 40px;
            font-size: 0.9rem;
        }

        .login-input {
            width: 100%;
            padding: 15px 25px;
            margin: 10px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
            text-align: center;
            transition: all 0.3s;
        }

        .login-input:focus {
            outline: none;
            border-color: #4ecdc4;
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.3);
        }

        .login-button {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            border: none;
            border-radius: 30px;
            background: linear-gradient(90deg, #ff6b6b, #ff8e53);
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .login-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.3);
        }

        .login-create {
            margin-top: 20px;
            color: #8ba0b5;
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: underline;
            transition: color 0.3s;
        }

        .login-create:hover {
            color: #4ecdc4;
        }

        /* ===== –†–ê–ë–û–ß–ò–ô –°–¢–û–õ ===== */
        #desktop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            display: none;
            overflow: hidden;
            transition: filter 0.3s;
        }

        .desktop-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
        }

        /* –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á */
        #taskbar {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(15px);
            display: flex;
            align-items: center;
            padding: 0 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 900;
        }

        #time {
            color: white;
            font-size: 0.9rem;
            margin-left: auto;
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.3);
            padding: 5px 15px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        #showPanel {
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            margin-right: 20px;
            transition: transform 0.3s;
        }

        #showPanel:hover {
            transform: scale(1.2);
        }

        /* –ó–Ω–∞—á–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ */
        .desktop-icons {
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fill, 90px);
            grid-gap: 25px;
            position: relative;
            z-index: 1;
        }

        .desktop-icon {
            width: 90px;
            height: 90px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            cursor: pointer;
            border-radius: 15px;
            padding: 15px;
            transition: all 0.3s;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .desktop-icon:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .desktop-icon i {
            font-size: 2.5rem;
            margin-bottom: 10px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }

        .desktop-icon-text {
            font-size: 0.85rem;
            text-shadow: 0 1px 3px rgba(0,0,0,0.8);
            font-weight: 500;
        }

        /* ===== –®–¢–û–†–ö–ê ===== */
        #notificationPanel {
            position: fixed;
            top: -400px;
            right: 15px;
            width: 380px;
            height: 450px;
            background: rgba(15, 15, 15, 0.95);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 25px;
            color: white;
            z-index: 1001;
            transition: top 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            overflow-y: auto;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        }

        .panel-title {
            font-size: 1.4rem;
            font-weight: bold;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .panel-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .panel-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* –ë—ã—Å—Ç—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
        .quick-settings {
            margin-bottom: 30px;
        }

        .settings-title {
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .setting-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .setting-item:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-3px);
        }

        .setting-item i {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #4ecdc4;
        }

        .setting-item.active {
            background: rgba(78, 205, 196, 0.2);
            border-color: rgba(78, 205, 196, 0.3);
        }

        /* –°–ª–∞–π–¥–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
        .slider-container {
            margin-bottom: 25px;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #8ba0b5;
        }

        .slider {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4ecdc4;
            cursor: pointer;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4ecdc4;
            cursor: pointer;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notifications-section {
            margin-top: 30px;
        }

        .notifications-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        #clearNotifications {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 1px solid rgba(255, 107, 107, 0.3);
            border-radius: 15px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        #clearNotifications:hover {
            background: rgba(255, 107, 107, 0.3);
        }

        .notification-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #4ecdc4;
            transition: all 0.3s;
        }

        .notification-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: white;
        }

        .notification-text {
            color: #8ba0b5;
            font-size: 0.9rem;
        }

        .empty-notifications {
            text-align: center;
            color: #8ba0b5;
            padding: 30px;
            font-style: italic;
        }

        /* ===== –û–ö–ù–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–ô ===== */
        .window {
            position: absolute;
            top: 50px;
            left: 50px;
            width: 900px;
            height: 600px;
            background: rgba(20, 20, 20, 0.95);
            border-radius: 20px;
            box-shadow: 0 30px 70px rgba(0, 0, 0, 0.5);
            display: none;
            overflow: hidden;
            z-index: 100;
            min-width: 400px;
            min-height: 300px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
        }

        .window-header {
            height: 50px;
            background: linear-gradient(90deg, #1a1a1a, #2a2a2a);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 20px;
            justify-content: space-between;
            cursor: move;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .window-title {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .window-controls {
            display: flex;
            gap: 12px;
        }

        .window-control {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .window-control:hover {
            transform: scale(1.2);
        }

        .close { background: #ff5f57; }
        .minimize { background: #ffbd2e; }
        .maximize { background: #28ca42; }

        .window-content {
            height: calc(100% - 50px);
            padding: 0;
            background: rgba(15, 15, 15, 0.9);
            color: white;
            overflow: hidden;
        }

        /* ===== –ò–ì–†–ê GEOMETRY DASH ===== */
        #geometryWindow .window-content {
            background: linear-gradient(135deg, #0a0f1f 0%, #1a1f2f 100%);
            position: relative;
            overflow: hidden;
        }

        .geometry-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a2a3a 0%, #0f1a2a 100%);
            overflow: hidden;
        }

        #geometryCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: block;
        }

        .geometry-hud {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
            z-index: 10;
            background: rgba(0,0,0,0.8);
            padding: 20px 30px;
            border-radius: 15px;
            border: 2px solid #4ecdc4;
            backdrop-filter: blur(5px);
            font-size: 1.2rem;
        }

        .geometry-hud span {
            color: #ff6b6b;
            font-weight: bold;
            font-size: 1.8rem;
            text-shadow: 0 0 10px rgba(255,107,107,0.5);
        }

        .geometry-controls {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.9);
            padding: 20px 40px;
            border-radius: 50px;
            color: white;
            display: flex;
            gap: 40px;
            backdrop-filter: blur(10px);
            border: 2px solid #ff6b6b;
            z-index: 10;
            font-size: 1.1rem;
            box-shadow: 0 0 30px rgba(255,107,107,0.3);
        }

        .geometry-controls i {
            color: #ff6b6b;
            margin-right: 10px;
        }

        .geometry-start {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.95);
            padding: 60px 80px;
            border-radius: 30px;
            text-align: center;
            z-index: 21;
            border: 2px solid #4ecdc4;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 50px rgba(78,205,196,0.5);
        }

        .geometry-start h2 {
            font-size: 3.5rem;
            color: #4ecdc4;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(78,205,196,0.5);
            animation: pulse 2s infinite;
        }

        .geometry-start p {
            font-size: 1.3rem;
            color: #8ba0b5;
            margin-bottom: 40px;
            max-width: 400px;
            line-height: 1.6;
        }

        .geometry-start button {
            background: linear-gradient(135deg, #4ecdc4, #45b7d1);
            border: none;
            color: white;
            padding: 20px 60px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            border: 2px solid rgba(255,255,255,0.2);
        }

        .geometry-start button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 40px rgba(78,205,196,0.8);
        }

        .geometry-gameover {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.95);
            padding: 60px 80px;
            border-radius: 30px;
            text-align: center;
            z-index: 20;
            display: none;
            border: 2px solid #ff6b6b;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 50px rgba(255,107,107,0.5);
        }

        .geometry-gameover h2 {
            font-size: 3.5rem;
            color: #ff6b6b;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(255,107,107,0.5);
        }

        .geometry-gameover p {
            font-size: 1.8rem;
            color: white;
            margin-bottom: 40px;
        }

        .geometry-gameover button {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            border: none;
            color: white;
            padding: 20px 60px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .geometry-gameover button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 40px rgba(255,107,107,0.8);
        }

        /* –ë—Ä–∞—É–∑–µ—Ä */
        #browserWindow .window-content {
            display: flex;
            flex-direction: column;
        }

        .browser-bar {
            display: flex;
            padding: 15px;
            background: rgba(30, 30, 30, 0.9);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        #browserUrl {
            flex: 1;
            padding: 12px 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            margin: 0 15px;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
        }

        #browserUrl:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .browser-button {
            padding: 12px 25px;
            background: linear-gradient(90deg, #4a6491, #2c3e50);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .browser-button:hover {
            transform: scale(1.05);
        }

        #browserFrame {
            flex: 1;
            border: none;
            background: white;
        }

        /* –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä */
        .file-manager {
            display: flex;
            height: 100%;
        }

        .file-sidebar {
            width: 220px;
            background: rgba(25, 25, 25, 0.9);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
        }

        .file-actions {
            margin-bottom: 30px;
        }

        .file-action-btn {
            width: 100%;
            padding: 12px;
            margin-bottom: 12px;
            background: linear-gradient(90deg, #4a6491, #2c3e50);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: transform 0.2s;
        }

        .file-action-btn:hover {
            transform: translateY(-2px);
        }

        .file-content {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
            background: rgba(15, 15, 15, 0.7);
        }

        .file-item {
            display: inline-block;
            width: 120px;
            padding: 20px;
            margin: 15px;
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            cursor: pointer;
            vertical-align: top;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .file-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .file-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #4ecdc4;
        }

        /* –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä */
        .calculator {
            padding: 30px;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        #calcDisplay {
            width: 100%;
            height: 80px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            color: white;
            font-size: 2.5rem;
            text-align: right;
            padding: 0 25px;
            margin-bottom: 25px;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            flex: 1;
        }

        .calc-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calc-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(0.98);
        }

        .calc-btn.operation {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
        }

        .calc-btn.equals {
            background: linear-gradient(135deg, #4ecdc4, #45b7d1);
        }

        /* AI –ü–æ–º–æ—â–Ω–∏–∫ */
        .assistant-chat {
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 25px;
        }

        #assistantHeader {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .assistant-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
        }

        #chatMessages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .message {
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 15px;
            max-width: 80%;
        }

        .message.user {
            background: rgba(78, 205, 196, 0.2);
            border: 1px solid rgba(78, 205, 196, 0.3);
            margin-left: auto;
        }

        .message.assistant {
            background: rgba(255, 107, 107, 0.2);
            border: 1px solid rgba(255, 107, 107, 0.3);
        }

        .chat-input-area {
            display: flex;
            gap: 15px;
        }

        #chatInput {
            flex: 1;
            padding: 15px 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
        }

        #sendMessage {
            padding: 15px 30px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }

        #sendMessage:hover {
            transform: scale(1.05);
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification-toast {
            position: fixed;
            bottom: 70px;
            right: 25px;
            background: rgba(20, 20, 20, 0.95);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            z-index: 1000;
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            max-width: 350px;
            backdrop-filter: blur(20px);
        }

        /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ */
        .dark-mode {
            filter: invert(1) hue-rotate(180deg);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ–±–æ–µ–≤ –≤ —Ñ–∞–π–ª–æ–≤–æ–º –º–µ–Ω–µ–¥–∂–µ—Ä–µ */
        .wallpaper-item {
            position: relative;
            overflow: hidden;
            border: 3px solid transparent;
            transition: border-color 0.3s;
        }

        .wallpaper-item.current {
            border-color: #4ecdc4;
            box-shadow: 0 0 20px rgba(78, 205, 196, 0.5);
        }

        .wallpaper-preview {
            width: 100%;
            height: 80px;
            object-fit: cover;
            border-radius: 10px;
        }

        .wallpaper-name {
            margin-top: 5px;
            font-size: 0.8rem;
            color: white;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò -->
    <div id="bootScreen">
        <div class="boot-logo">MAX</div>
        <div class="boot-text">–ó–∞–≥—Ä—É–∑–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã...</div>
        <div class="boot-progress">
            <div class="boot-progress-bar" id="bootProgress"></div>
        </div>
        <div class="boot-text" id="bootStatus">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞...</div>
    </div>

    <!-- –≠–ö–†–ê–ù –í–•–û–î–ê -->
    <div id="loginScreen">
        <div class="login-container">
            <div class="login-title">MAX OS</div>
            <div class="login-subtitle">–í–µ—Ä—Å–∏—è 0.01.0 beta</div>
            <input type="password" id="passwordInput" class="login-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
            <button id="loginButton" class="login-button">–í–æ–π—Ç–∏</button>
            <div id="createPassword" class="login-create">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</div>
        </div>
    </div>

    <!-- –†–ê–ë–û–ß–ò–ô –°–¢–û–õ -->
    <div id="desktop">
        <div class="desktop-overlay"></div>
        
        <!-- –ó–Ω–∞—á–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ -->
        <div class="desktop-icons">
            <div class="desktop-icon" onclick="openApp('geometry')">
                <i class="fas fa-cube" style="color: #4ecdc4;"></i>
                <div class="desktop-icon-text">Geometry Dash</div>
            </div>
            <div class="desktop-icon" onclick="openApp('browser')">
                <i class="fas fa-globe"></i>
                <div class="desktop-icon-text">–ë—Ä–∞—É–∑–µ—Ä</div>
            </div>
            <div class="desktop-icon" onclick="openApp('files')">
                <i class="fas fa-folder"></i>
                <div class="desktop-icon-text">–§–∞–π–ª—ã</div>
            </div>
            <div class="desktop-icon" onclick="openApp('calculator')">
                <i class="fas fa-calculator"></i>
                <div class="desktop-icon-text">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
            </div>
            <div class="desktop-icon" onclick="openApp('assistant')">
                <i class="fas fa-robot"></i>
                <div class="desktop-icon-text">MAX –ü–æ–º–æ—â–Ω–∏–∫</div>
            </div>
            <div class="desktop-icon" onclick="createFolder()">
                <i class="fas fa-plus-circle"></i>
                <div class="desktop-icon-text">–ù–æ–≤–∞—è –ø–∞–ø–∫–∞</div>
            </div>
            <div class="desktop-icon" onclick="openWallpapersFolder()">
                <i class="fas fa-image"></i>
                <div class="desktop-icon-text">–û–±–æ–∏</div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á -->
        <div id="taskbar">
            <button id="showPanel" onclick="togglePanel()">
                <i class="fas fa-chevron-down"></i>
            </button>
            <div id="time">--:--</div>
        </div>
    </div>

    <!-- –®–¢–û–†–ö–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô -->
    <div id="notificationPanel">
        <div class="panel-header">
            <div class="panel-title">–®—Ç–æ—Ä–∫–∞ MAX</div>
            <button class="panel-close" onclick="togglePanel()">√ó</button>
        </div>
        
        <!-- –ë—ã—Å—Ç—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div class="quick-settings">
            <div class="settings-title">
                <i class="fas fa-sliders-h"></i> –ë—ã—Å—Ç—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </div>
            
            <div class="settings-grid">
                <div class="setting-item active" onclick="changeTheme('dark')">
                    <i class="fas fa-moon"></i>
                    <div>–¢—ë–º–Ω–∞—è</div>
                </div>
                <div class="setting-item" onclick="changeTheme('light')">
                    <i class="fas fa-sun"></i>
                    <div>–°–≤–µ—Ç–ª–∞—è</div>
                </div>
                <div class="setting-item" onclick="changeTheme('blue')">
                    <i class="fas fa-palette"></i>
                    <div>–°–∏–Ω—è—è</div>
                </div>
                <div class="setting-item" onclick="toggleWiFi()">
                    <i class="fas fa-wifi" id="wifiIcon" style="color: #4ecdc4;"></i>
                    <div>Wi-Fi</div>
                </div>
                <div class="setting-item" onclick="toggleBluetooth()">
                    <i class="fas fa-bluetooth" id="bluetoothIcon"></i>
                    <div>Bluetooth</div>
                </div>
                <div class="setting-item" onclick="toggleAirplaneMode()">
                    <i class="fas fa-plane" id="airplaneIcon"></i>
                    <div>–°–∞–º–æ–ª—ë—Ç</div>
                </div>
            </div>
            
            <div class="slider-container">
                <div class="slider-label">
                    <span><i class="fas fa-sun"></i> –Ø—Ä–∫–æ—Å—Ç—å</span>
                    <span id="brightnessValue">100%</span>
                </div>
                <input type="range" min="20" max="100" value="100" class="slider" id="brightnessSlider">
            </div>
            
            <div class="slider-container">
                <div class="slider-label">
                    <span><i class="fas fa-volume-up"></i> –ì—Ä–æ–º–∫–æ—Å—Ç—å</span>
                    <span id="volumeValue">75%</span>
                </div>
                <input type="range" min="0" max="100" value="75" class="slider" id="volumeSlider">
            </div>
        </div>
        
        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div class="notifications-section">
            <div class="notifications-header">
                <div class="settings-title">
                    <i class="fas fa-bell"></i> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                </div>
                <button id="clearNotifications" onclick="clearAllNotifications()">
                    –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
                </button>
            </div>
            <div id="notificationsList">
                <div class="empty-notifications">–ù–µ—Ç –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</div>
            </div>
        </div>
    </div>

    <!-- –û–ö–ù–û –ò–ì–†–´ GEOMETRY DASH -->
    <div id="geometryWindow" class="window" style="width: 1000px; height: 650px;">
        <div class="window-header">
            <div class="window-title">üéÆ Geometry Dash - –†–ò–¢–ú-–®–£–¢–ï–†</div>
            <div class="window-controls">
                <div class="window-control minimize" onclick="minimizeWindow('geometry')"></div>
                <div class="window-control maximize" onclick="maximizeWindow('geometry')"></div>
                <div class="window-control close" onclick="closeWindow('geometry')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="geometry-container" id="geometryContainer">
                <canvas id="geometryCanvas"></canvas>
                
                <div class="geometry-hud">
                    <div style="margin-bottom: 15px; font-size: 1.5rem;">
                        <i class="fas fa-star" style="color: #ffd700;"></i> 
                        –°–ß–Å–¢: <span id="score">0</span>
                    </div>
                    <div style="font-size: 1.5rem;">
                        <i class="fas fa-tachometer-alt" style="color: #4ecdc4;"></i> 
                        –°–ö–û–†–û–°–¢–¨: <span id="speedLevel">1</span>x
                    </div>
                </div>
                
                <div class="geometry-controls">
                    <div><i class="fas fa-space-shuttle"></i> –ü–†–û–ë–ï–õ / –ö–õ–ò–ö - –ü–†–´–ñ–û–ö</div>
                    <div><i class="fas fa-undo-alt"></i> R - –†–ï–°–¢–ê–†–¢</div>
                </div>
                
                <div id="gameStartScreen" class="geometry-start">
                    <h2>üéÆ GEOMETRY DASH</h2>
                    <p>–ü–†–´–ì–ê–ô –ß–ï–†–ï–ó –ü–†–ï–ü–Ø–¢–°–¢–í–ò–Ø!<br>–° –∫–∞–∂–¥—ã–º –æ—á–∫–æ–º —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞—Å—Ç—ë—Ç!</p>
                    <button onclick="startGeometryGame()">
                        <i class="fas fa-play"></i> –°–¢–ê–†–¢
                    </button>
                </div>
                
                <div id="gameOverScreen" class="geometry-gameover">
                    <h2>GAME OVER</h2>
                    <p>–¢–í–û–ô –°–ß–Å–¢: <span id="finalScore">0</span></p>
                    <button onclick="restartGeometryGame()">
                        <i class="fas fa-redo-alt"></i> –ï–©–Å –†–ê–ó
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –û–ö–ù–û –ë–†–ê–£–ó–ï–†–ê -->
    <div id="browserWindow" class="window">
        <div class="window-header">
            <div class="window-title">üåê –ë—Ä–∞—É–∑–µ—Ä MAX</div>
            <div class="window-controls">
                <div class="window-control minimize" onclick="minimizeWindow('browser')"></div>
                <div class="window-control maximize" onclick="maximizeWindow('browser')"></div>
                <div class="window-control close" onclick="closeWindow('browser')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="browser-bar">
                <button class="browser-button" onclick="browserBack()"><i class="fas fa-arrow-left"></i></button>
                <input type="text" id="browserUrl" value="https://google.com" placeholder="–í–≤–µ–¥–∏—Ç–µ URL...">
                <button class="browser-button" onclick="browserGo()">–ü–µ—Ä–µ–π—Ç–∏</button>
                <button class="browser-button" onclick="toggleDarkMode()"><i class="fas fa-moon"></i></button>
            </div>
            <iframe id="browserFrame" src="https://google.com"></iframe>
        </div>
    </div>

    <!-- –û–ö–ù–û –§–ê–ô–õ–û–í–û–ì–û –ú–ï–ù–ï–î–ñ–ï–†–ê -->
    <div id="filesWindow" class="window">
        <div class="window-header">
            <div class="window-title">üìÅ –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä</div>
            <div class="window-controls">
                <div class="window-control minimize" onclick="minimizeWindow('files')"></div>
                <div class="window-control maximize" onclick="maximizeWindow('files')"></div>
                <div class="window-control close" onclick="closeWindow('files')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="file-manager">
                <div class="file-sidebar">
                    <div class="file-actions">
                        <button class="file-action-btn" onclick="createFolder()">
                            <i class="fas fa-folder-plus"></i> –ù–æ–≤–∞—è –ø–∞–ø–∫–∞
                        </button>
                        <button class="file-action-btn" onclick="deleteSelected()">
                            <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                        </button>
                    </div>
                    <div style="color: #8ba0b5; margin-bottom: 15px;">üìÇ –ü–∞–ø–∫–∏:</div>
                    <div id="folderList"></div>
                </div>
                <div class="file-content" id="fileContent"></div>
            </div>
        </div>
    </div>

    <!-- –û–ö–ù–û –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê -->
    <div id="calculatorWindow" class="window" style="width: 400px; height: 500px;">
        <div class="window-header">
            <div class="window-title">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
            <div class="window-controls">
                <div class="window-control minimize" onclick="minimizeWindow('calculator')"></div>
                <div class="window-control maximize" onclick="maximizeWindow('calculator')"></div>
                <div class="window-control close" onclick="closeWindow('calculator')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="calculator">
                <input type="text" id="calcDisplay" readonly value="0">
                <div class="calc-buttons">
                    <button class="calc-btn" onclick="clearCalc()">C</button>
                    <button class="calc-btn" onclick="backspaceCalc()">‚å´</button>
                    <button class="calc-btn" onclick="calcInput('%')">%</button>
                    <button class="calc-btn operation" onclick="calcInput('/')">√∑</button>
                    <button class="calc-btn" onclick="calcInput('7')">7</button>
                    <button class="calc-btn" onclick="calcInput('8')">8</button>
                    <button class="calc-btn" onclick="calcInput('9')">9</button>
                    <button class="calc-btn operation" onclick="calcInput('*')">√ó</button>
                    <button class="calc-btn" onclick="calcInput('4')">4</button>
                    <button class="calc-btn" onclick="calcInput('5')">5</button>
                    <button class="calc-btn" onclick="calcInput('6')">6</button>
                    <button class="calc-btn operation" onclick="calcInput('-')">‚àí</button>
                    <button class="calc-btn" onclick="calcInput('1')">1</button>
                    <button class="calc-btn" onclick="calcInput('2')">2</button>
                    <button class="calc-btn" onclick="calcInput('3')">3</button>
                    <button class="calc-btn operation" onclick="calcInput('+')">+</button>
                    <button class="calc-btn" onclick="calcInput('0')">0</button>
                    <button class="calc-btn" onclick="calcInput('.')">.</button>
                    <button class="calc-btn equals" onclick="calculate()">=</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –û–ö–ù–û AI –ü–û–ú–û–©–ù–ò–ö–ê -->
    <div id="assistantWindow" class="window" style="width: 500px; height: 600px;">
        <div class="window-header">
            <div class="window-title">ü§ñ MAX –ü–æ–º–æ—â–Ω–∏–∫</div>
            <div class="window-controls">
                <div class="window-control minimize" onclick="minimizeWindow('assistant')"></div>
                <div class="window-control maximize" onclick="maximizeWindow('assistant')"></div>
                <div class="window-control close" onclick="closeWindow('assistant')"></div>
            </div>
        </div>
        <div class="window-content">
            <div class="assistant-chat">
                <div id="assistantHeader">
                    <div class="assistant-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <div style="font-weight: bold; font-size: 1.3rem;">MAX –ü–æ–º–æ—â–Ω–∏–∫</div>
                        <div style="color: #8ba0b5;">–í—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å!</div>
                    </div>
                </div>
                
                <div id="chatMessages">
                    <div class="message assistant">
                        –ü—Ä–∏–≤–µ—Ç! –Ø MAX –ü–æ–º–æ—â–Ω–∏–∫. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
                    </div>
                </div>
                
                <div class="chat-input-area">
                    <input type="text" id="chatInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å...">
                    <button id="sendMessage" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–í–ï–î–û–ú–õ–ï–ù–ò–ï -->
    <div class="notification-toast" id="notificationToast"></div>

    <script>
        // ========== –ò–ì–†–ê GEOMETRY DASH ==========
        const canvas = document.getElementById('geometryCanvas');
        const ctx = canvas ? canvas.getContext('2d') : null;
        let gameRunning = false;
        
        // –ò–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
        let player = {
            x: 100,
            y: 0,
            width: 30,
            height: 30,
            vy: 0,
            gravity: 0.5,
            jumpPower: -12,
            grounded: true
        };
        
        let obstacles = [];
        let score = 0;
        let speed = 5;
        let frameCount = 0;
        let gameLoopId;
        let obstacleInterval;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGeometryGame() {
            if (!canvas) return;
            
            function resizeCanvas() {
                const container = document.querySelector('.geometry-container');
                if (container) {
                    canvas.width = container.clientWidth;
                    canvas.height = container.clientHeight;
                    resetGame();
                }
            }
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            window.addEventListener('keydown', (e) => {
                if (!gameRunning) return;
                
                if (e.key === ' ' || e.key === 'Space') {
                    e.preventDefault();
                    jump();
                }
                if (e.key === 'r' || e.key === 'R') {
                    restartGeometryGame();
                }
            });
            
            canvas.addEventListener('click', () => {
                if (gameRunning) {
                    jump();
                }
            });
        }

        // –ü—Ä—ã–∂–æ–∫
        function jump() {
            if (player.y >= canvas.height - player.height - 50) {
                player.vy = player.jumpPower;
                player.grounded = false;
            }
        }

        // –°–ø–∞–≤–Ω –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
        function spawnObstacle() {
            if (!gameRunning || !canvas) return;
            
            const types = [
                { width: 20, height: 40, color: '#ff6b6b' },  // –í—ã—Å–æ–∫–æ–µ
                { width: 30, height: 30, color: '#4ecdc4' },  // –ö–≤–∞–¥—Ä–∞—Ç
                { width: 40, height: 20, color: '#ffd93d' },  // –ù–∏–∑–∫–æ–µ
                { width: 25, height: 50, color: '#a8e6cf' }   // –û—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–µ
            ];
            
            const type = types[Math.floor(Math.random() * types.length)];
            
            obstacles.push({
                x: canvas.width,
                y: canvas.height - type.height - 50,
                width: type.width,
                height: type.height,
                color: type.color,
                passed: false
            });
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã
        function updateGame() {
            if (!gameRunning || !canvas) return;
            
            // –§–∏–∑–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
            player.vy += player.gravity;
            player.y += player.vy;
            
            // –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
            if (player.y >= canvas.height - player.height - 50) {
                player.y = canvas.height - player.height - 50;
                player.vy = 0;
                player.grounded = true;
            }
            
            if (player.y < 0) {
                player.y = 0;
                player.vy = 0;
            }
            
            // –î–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
            for (let i = obstacles.length - 1; i >= 0; i--) {
                const obs = obstacles[i];
                obs.x -= speed;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
                if (!obs.passed && obs.x + obs.width < player.x) {
                    obs.passed = true;
                    score += 10;
                    document.getElementById('score').textContent = score;
                    
                    // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∫–∞–∂–¥—ã–µ 50 –æ—á–∫–æ–≤
                    if (score % 50 === 0) {
                        speed += 1;
                        document.getElementById('speedLevel').textContent = Math.floor(speed / 5);
                        showNotification('Geometry Dash', `–°–ö–û–†–û–°–¢–¨ –£–í–ï–õ–ò–ß–ï–ù–ê! x${Math.floor(speed / 5)}`);
                    }
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
                if (checkCollision(player, obs)) {
                    gameOver();
                    break;
                }
                
                // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞ —ç–∫—Ä–∞–Ω–æ–º
                if (obs.x + obs.width < 0) {
                    obstacles.splice(i, 1);
                }
            }
            
            // –°–ø–∞–≤–Ω –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
            frameCount++;
            if (frameCount > Math.max(60 - speed * 2, 30)) {
                spawnObstacle();
                frameCount = 0;
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
        function checkCollision(player, obstacle) {
            return player.x < obstacle.x + obstacle.width &&
                   player.x + player.width > obstacle.x &&
                   player.y < obstacle.y + obstacle.height &&
                   player.y + player.height > obstacle.y;
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞
        function drawGame() {
            if (!ctx || !canvas) return;
            
            // –§–æ–Ω
            ctx.fillStyle = '#0a0f1f';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // –ü–æ–ª
            ctx.fillStyle = '#2c3e50';
            ctx.fillRect(0, canvas.height - 50, canvas.width, 50);
            
            // –†–∞–∑–º–µ—Ç–∫–∞ –ø–æ–ª–∞
            ctx.strokeStyle = '#4ecdc4';
            ctx.lineWidth = 2;
            for (let i = 0; i < canvas.width; i += 50) {
                ctx.beginPath();
                ctx.moveTo(i + (frameCount % 50), canvas.height - 50);
                ctx.lineTo(i + 30 + (frameCount % 50), canvas.height - 45);
                ctx.stroke();
            }
            
            // –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
            obstacles.forEach(obs => {
                // –¢–µ–Ω—å
                ctx.shadowColor = obs.color;
                ctx.shadowBlur = 15;
                
                ctx.fillStyle = obs.color;
                ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
                
                // –ü–æ–¥—Å–≤–µ—Ç–∫–∞
                ctx.shadowBlur = 5;
                ctx.fillStyle = 'rgba(255,255,255,0.3)';
                ctx.fillRect(obs.x + 2, obs.y + 2, obs.width - 4, 4);
            });
            
            // –ò–≥—Ä–æ–∫ (–∫—É–±–∏–∫)
            ctx.shadowColor = '#4ecdc4';
            ctx.shadowBlur = 20;
            
            // –¢–µ–ª–æ
            ctx.fillStyle = '#4ecdc4';
            ctx.fillRect(player.x, player.y, player.width, player.height);
            
            // –ì–ª–∞–∑–∞
            ctx.shadowBlur = 5;
            ctx.fillStyle = 'white';
            ctx.fillRect(player.x + 5, player.y + 5, 5, 5);
            ctx.fillRect(player.x + 15, player.y + 5, 5, 5);
            
            ctx.fillStyle = '#2c3e50';
            ctx.fillRect(player.x + 6, player.y + 6, 3, 3);
            ctx.fillRect(player.x + 16, player.y + 6, 3, 3);
            
            // –£–ª—ã–±–∫–∞
            ctx.beginPath();
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 2;
            ctx.arc(player.x + 15, player.y + 20, 5, 0, Math.PI);
            ctx.stroke();
            
            // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä—ã–∂–∫–∞
            if (!player.grounded) {
                ctx.shadowBlur = 30;
                ctx.fillStyle = 'rgba(78,205,196,0.3)';
                ctx.beginPath();
                ctx.arc(player.x + player.width/2, player.y + player.height, 10, 0, Math.PI * 2);
                ctx.fill();
            }
            
            ctx.shadowBlur = 0;
        }

        // Game Loop
        function geometryGameLoop() {
            if (!gameRunning) return;
            updateGame();
            drawGame();
            gameLoopId = requestAnimationFrame(geometryGameLoop);
        }

        // –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã
        function startGeometryGame() {
            gameRunning = true;
            resetGame();
            
            document.getElementById('gameStartScreen').style.display = 'none';
            document.getElementById('gameOverScreen').style.display = 'none';
            
            if (obstacleInterval) clearInterval(obstacleInterval);
            
            geometryGameLoop();
            showNotification('Geometry Dash', '–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –ü—Ä—ã–≥–∞–π —á–µ—Ä–µ–∑ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è!');
        }

        // –°–±—Ä–æ—Å –∏–≥—Ä—ã
        function resetGame() {
            player.y = canvas.height - player.height - 50;
            player.vy = 0;
            obstacles = [];
            score = 0;
            speed = 5;
            frameCount = 0;
            
            document.getElementById('score').textContent = '0';
            document.getElementById('speedLevel').textContent = '1';
        }

        // Game Over
        function gameOver() {
            gameRunning = false;
            if (obstacleInterval) clearInterval(obstacleInterval);
            if (gameLoopId) cancelAnimationFrame(gameLoopId);
            
            document.getElementById('finalScore').textContent = score;
            document.getElementById('gameOverScreen').style.display = 'block';
            showNotification('Geometry Dash', '–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –°—á—ë—Ç: ' + score);
        }

        // –†–µ—Å—Ç–∞—Ä—Ç
        function restartGeometryGame() {
            document.getElementById('gameOverScreen').style.display = 'none';
            startGeometryGame();
        }

        // ========== –•–†–ê–ù–ò–õ–ò–©–ï –î–ê–ù–ù–´–• ==========
        const MAX_STORAGE = {
            password: null,
            folders: ['–î–æ–∫—É–º–µ–Ω—Ç—ã', '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', '–ó–∞–≥—Ä—É–∑–∫–∏', '–ú—É–∑—ã–∫–∞', '–í–∏–¥–µ–æ', '–û–±–æ–∏'],
            files: [
                {name: 'README.txt', type: 'file', folder: '–î–æ–∫—É–º–µ–Ω—Ç—ã'},
                {name: '–ü—Ä–∏–≤–µ—Ç.txt', type: 'file', folder: '–î–æ–∫—É–º–µ–Ω—Ç—ã'},
                {name: 'photo1.png', type: 'wallpaper', folder: '–û–±–æ–∏'},
                {name: 'photo2.png', type: 'wallpaper', folder: '–û–±–æ–∏'},
                {name: 'photo3.png', type: 'wallpaper', folder: '–û–±–æ–∏'},
                {name: 'photo4.png', type: 'wallpaper', folder: '–û–±–æ–∏'},
                {name: 'photo5.png', type: 'wallpaper', folder: '–û–±–æ–∏'}
            ],
            wallpaper: 'photo1.png',
            theme: 'dark',
            brightness: 100,
            volume: 75,
            wifiEnabled: true,
            bluetoothEnabled: false,
            airplaneMode: false,
            notifications: [],
            chatHistory: []
        };

        // ========== –ó–ê–ì–†–£–ó–ö–ê –°–ò–°–¢–ï–ú–´ ==========
        function bootSystem() {
            const bootMessages = [
                '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞...',
                '–ó–∞–≥—Ä—É–∑–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤...',
                '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã...',
                '–ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±...',
                '–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞...',
                'MAX OS –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!'
            ];
            
            let bootProgress = 0;
            const progressBar = document.getElementById('bootProgress');
            const status = document.getElementById('bootStatus');
            
            const bootInterval = setInterval(() => {
                bootProgress += Math.floor(Math.random() * 15) + 10;
                if (bootProgress > 100) bootProgress = 100;
                
                progressBar.style.width = bootProgress + '%';
                
                if (bootProgress <= 100) {
                    const index = Math.floor(bootProgress / (100 / bootMessages.length));
                    if (index < bootMessages.length) {
                        status.textContent = bootMessages[index];
                    }
                }
                
                if (bootProgress >= 100) {
                    clearInterval(bootInterval);
                    setTimeout(() => {
                        document.getElementById('bootScreen').style.opacity = '0';
                        setTimeout(() => {
                            document.getElementById('bootScreen').style.display = 'none';
                            showLoginScreen();
                        }, 500);
                    }, 500);
                }
            }, 200);
        }

        // ========== –≠–ö–†–ê–ù –í–•–û–î–ê ==========
        function showLoginScreen() {
            document.getElementById('loginScreen').style.display = 'flex';
            
            const savedPassword = localStorage.getItem('max_password');
            if (savedPassword) {
                MAX_STORAGE.password = savedPassword;
                document.getElementById('createPassword').textContent = '–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å';
            }
            
            document.getElementById('loginButton').onclick = login;
            document.getElementById('createPassword').onclick = createNewPassword;
            
            document.getElementById('passwordInput').onkeypress = (e) => {
                if (e.key === 'Enter') login();
            };
        }

        function login() {
            const input = document.getElementById('passwordInput');
            const savedPassword = localStorage.getItem('max_password');
            
            if (!savedPassword) {
                showNotification('–û—à–∏–±–∫–∞', '–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å!');
                return;
            }
            
            if (input.value === savedPassword) {
                document.getElementById('loginScreen').style.display = 'none';
                startDesktop();
            } else {
                showNotification('–û—à–∏–±–∫–∞', '–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!');
                input.value = '';
            }
        }

        function createNewPassword() {
            const input = document.getElementById('passwordInput');
            if (input.value.length < 4) {
                showNotification('–û—à–∏–±–∫–∞', '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 4 —Å–∏–º–≤–æ–ª–æ–≤!');
                return;
            }
            
            localStorage.setItem('max_password', input.value);
            MAX_STORAGE.password = input.value;
            showNotification('–£—Å–ø–µ—Ö', '–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
            input.value = '';
        }

        // ========== –†–ê–ë–û–ß–ò–ô –°–¢–û–õ ==========
        function startDesktop() {
            document.getElementById('desktop').style.display = 'block';
            updateTime();
            setInterval(updateTime, 1000);
            loadFileManager();
            initGeometryGame();
            showNotification('MAX OS', '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MAX OS 0.01.0 beta!');
        }

        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'});
            document.getElementById('time').textContent = timeStr;
        }

        // ========== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ==========
        function showNotification(title, text) {
            const notification = {
                id: Date.now(),
                title: title,
                text: text,
                time: new Date().toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'})
            };
            
            MAX_STORAGE.notifications.unshift(notification);
            if (MAX_STORAGE.notifications.length > 10) MAX_STORAGE.notifications.pop();
            
            updateNotificationsList();
            
            const toast = document.getElementById('notificationToast');
            toast.innerHTML = `<strong>${title}:</strong> ${text}`;
            toast.style.display = 'block';
            setTimeout(() => { toast.style.display = 'none'; }, 3000);
        }

        function updateNotificationsList() {
            const list = document.getElementById('notificationsList');
            if (!list) return;
            
            if (MAX_STORAGE.notifications.length === 0) {
                list.innerHTML = '<div class="empty-notifications">–ù–µ—Ç –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</div>';
                return;
            }
            
            list.innerHTML = MAX_STORAGE.notifications.map(n => `
                <div class="notification-item">
                    <div class="notification-title">${n.title}</div>
                    <div class="notification-text">${n.text}</div>
                    <div style="font-size: 0.8rem; color: #8ba0b5; margin-top: 5px;">${n.time}</div>
                </div>
            `).join('');
        }

        function clearAllNotifications() {
            MAX_STORAGE.notifications = [];
            updateNotificationsList();
            showNotification('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', '–í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—á–∏—â–µ–Ω—ã');
        }

        // ========== –®–¢–û–†–ö–ê ==========
        function togglePanel() {
            const panel = document.getElementById('notificationPanel');
            const button = document.getElementById('showPanel');
            
            if (panel.style.top === '15px') {
                panel.style.top = '-400px';
                button.innerHTML = '<i class="fas fa-chevron-down"></i>';
            } else {
                panel.style.top = '15px';
                button.innerHTML = '<i class="fas fa-chevron-up"></i>';
                updateNotificationsList();
            }
        }

        // ========== –û–ö–ù–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–ô ==========
        function openApp(appName) {
            const windowId = appName + 'Window';
            const win = document.getElementById(windowId);
            
            if (win) {
                win.style.display = 'block';
                bringToFront(windowId);
                
                if (appName === 'assistant') {
                    loadChatHistory();
                }
                
                if (appName === 'geometry') {
                    setTimeout(() => {
                        if (!gameRunning) {
                            document.getElementById('gameStartScreen').style.display = 'block';
                        }
                    }, 100);
                }
            }
        }

        function closeWindow(appName) {
            const windowId = appName + 'Window';
            const win = document.getElementById(windowId);
            if (win) win.style.display = 'none';
        }

        function minimizeWindow(appName) {
            const win = document.getElementById(appName + 'Window');
            win.style.transform = 'scale(0.01)';
            win.style.opacity = '0';
            setTimeout(() => {
                win.style.display = 'none';
                win.style.transform = '';
                win.style.opacity = '';
            }, 300);
        }

        function maximizeWindow(appName) {
            const win = document.getElementById(appName + 'Window');
            if (win.style.width === '100%') {
                win.style.width = appName === 'geometry' ? '1000px' : 
                                 appName === 'calculator' ? '400px' : 
                                 appName === 'assistant' ? '500px' : '900px';
                win.style.height = appName === 'geometry' ? '650px' : 
                                  appName === 'calculator' ? '500px' : 
                                  appName === 'assistant' ? '600px' : '600px';
                win.style.top = '50px';
                win.style.left = '50px';
            } else {
                win.style.width = '100%';
                win.style.height = 'calc(100% - 50px)';
                win.style.top = '0';
                win.style.left = '0';
            }
        }

        function bringToFront(elementId) {
            document.querySelectorAll('.window').forEach(win => {
                win.style.zIndex = '100';
            });
            document.getElementById(elementId).style.zIndex = '999';
        }

        // ========== –î–†–ê–ì-–≠–ù–î-–î–†–û–ü –û–ö–û–ù ==========
        let draggedWindow = null;
        let offsetX = 0, offsetY = 0;

        document.addEventListener('mousedown', (e) => {
            if (e.target.closest('.window-header')) {
                draggedWindow = e.target.closest('.window');
                offsetX = e.clientX - draggedWindow.offsetLeft;
                offsetY = e.clientY - draggedWindow.offsetTop;
                bringToFront(draggedWindow.id);
            }
        });

        document.addEventListener('mousemove', (e) => {
            if (draggedWindow) {
                draggedWindow.style.left = (e.clientX - offsetX) + 'px';
                draggedWindow.style.top = (e.clientY - offsetY) + 'px';
            }
        });

        document.addEventListener('mouseup', () => {
            draggedWindow = null;
        });

        // ========== –§–ê–ô–õ–û–í–´–ô –ú–ï–ù–ï–î–ñ–ï–† ==========
        function loadFileManager() {
            const folderList = document.getElementById('folderList');
            if (!folderList) return;
            
            folderList.innerHTML = '';
            
            MAX_STORAGE.folders.forEach(folder => {
                const div = document.createElement('div');
                div.className = 'file-item';
                div.innerHTML = `<i class="fas fa-folder file-icon"></i><br><span style="color: white;">${folder}</span>`;
                div.onclick = () => openFolder(folder);
                folderList.appendChild(div);
            });
            
            openFolder('–î–æ–∫—É–º–µ–Ω—Ç—ã');
        }

        function openFolder(folderName) {
            const content = document.getElementById('fileContent');
            if (!content) return;
            
            content.innerHTML = `<h3 style="color: white; margin-bottom: 20px;">${folderName}</h3>`;
            
            if (folderName === '–û–±–æ–∏') {
                openWallpapersFolderContent();
                return;
            }
            
            MAX_STORAGE.folders.forEach(folder => {
                if (folder !== folderName) {
                    const div = document.createElement('div');
                    div.className = 'file-item';
                    div.innerHTML = `<i class="fas fa-folder file-icon"></i><br><span style="color: white;">${folder}</span>`;
                    div.onclick = () => openFolder(folder);
                    content.appendChild(div);
                }
            });
            
            MAX_STORAGE.files.forEach(file => {
                if (file.folder === folderName) {
                    const icon = file.type === 'image' ? 'fa-image' : 
                                file.type === 'music' ? 'fa-music' : 
                                file.type === 'video' ? 'fa-video' : 
                                file.type === 'wallpaper' ? 'fa-image' : 'fa-file';
                    
                    const div = document.createElement('div');
                    div.className = 'file-item';
                    div.innerHTML = `<i class="fas ${icon} file-icon" style="color: #4ecdc4;"></i><br><span style="color: white;">${file.name}</span>`;
                    div.onclick = () => showNotification('–§–∞–π–ª', `–û—Ç–∫—Ä—ã—Ç —Ñ–∞–π–ª: ${file.name}`);
                    content.appendChild(div);
                }
            });
        }

        function openWallpapersFolderContent() {
            const content = document.getElementById('fileContent');
            const wallpapers = [
                {name: 'photo1.png', color: 'linear-gradient(135deg, #1a1a2e, #16213e)'},
                {name: 'photo2.png', color: 'linear-gradient(135deg, #0f0c29, #302b63, #24243e)'},
                {name: 'photo3.png', color: 'linear-gradient(135deg, #000428, #004e92)'},
                {name: 'photo4.png', color: 'linear-gradient(135deg, #232526, #414345)'},
                {name: 'photo5.png', color: 'linear-gradient(135deg, #1e3c72, #2a5298)'}
            ];
            
            wallpapers.forEach(wallpaper => {
                const div = document.createElement('div');
                div.className = 'file-item wallpaper-item';
                if (wallpaper.name === MAX_STORAGE.wallpaper) {
                    div.classList.add('current');
                }
                
                div.innerHTML = `
                    <div class="wallpaper-preview" style="background: ${wallpaper.color};"></div>
                    <div class="wallpaper-name">${wallpaper.name}</div>
                `;
                
                div.onclick = () => setWallpaper(wallpaper.name);
                content.appendChild(div);
            });
        }

        function openWallpapersFolder() {
            openApp('files');
            setTimeout(() => openFolder('–û–±–æ–∏'), 100);
        }

        function setWallpaper(name) {
            MAX_STORAGE.wallpaper = name;
            const wallpapers = {
                'photo1.png': 'linear-gradient(135deg, #1a1a2e, #16213e)',
                'photo2.png': 'linear-gradient(135deg, #0f0c29, #302b63, #24243e)',
                'photo3.png': 'linear-gradient(135deg, #000428, #004e92)',
                'photo4.png': 'linear-gradient(135deg, #232526, #414345)',
                'photo5.png': 'linear-gradient(135deg, #1e3c72, #2a5298)'
            };
            
            document.getElementById('desktop').style.backgroundImage = wallpapers[name];
            localStorage.setItem('max_wallpaper', name);
            showNotification('–û–±–æ–∏', `–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –æ–±–æ–∏: ${name}`);
            
            if (document.getElementById('filesWindow').style.display === 'block') {
                openFolder('–û–±–æ–∏');
            }
        }

        function createFolder() {
            const name = prompt('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –Ω–æ–≤–æ–π –ø–∞–ø–∫–∏:');
            if (name && name.trim()) {
                if (!MAX_STORAGE.folders.includes(name)) {
                    MAX_STORAGE.folders.push(name);
                    loadFileManager();
                    showNotification('–§–∞–π–ª—ã', `–°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞: ${name}`);
                } else {
                    showNotification('–û—à–∏–±–∫–∞', '–ü–∞–ø–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!');
                }
            }
        }

        function deleteSelected() {
            const name = prompt('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–∞–ø–∫–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:');
            if (name && MAX_STORAGE.folders.includes(name) && name !== '–û–±–æ–∏') {
                MAX_STORAGE.folders = MAX_STORAGE.folders.filter(f => f !== name);
                MAX_STORAGE.files = MAX_STORAGE.files.filter(f => f.folder !== name);
                loadFileManager();
                showNotification('–§–∞–π–ª—ã', `–ü–∞–ø–∫–∞ "${name}" —É–¥–∞–ª–µ–Ω–∞`);
            } else if (name === '–û–±–æ–∏') {
                showNotification('–û—à–∏–±–∫–∞', '–°–∏—Å—Ç–µ–º–Ω—É—é –ø–∞–ø–∫—É –Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å!');
            } else {
                showNotification('–û—à–∏–±–∫–∞', '–ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!');
            }
        }

        // ========== –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† ==========
        let calcExpression = '0';

        function calcInput(value) {
            if (calcExpression === '0' && value !== '.') {
                calcExpression = value;
            } else {
                calcExpression += value;
            }
            document.getElementById('calcDisplay').value = calcExpression;
        }

        function clearCalc() {
            calcExpression = '0';
            document.getElementById('calcDisplay').value = calcExpression;
        }

        function backspaceCalc() {
            if (calcExpression.length > 1) {
                calcExpression = calcExpression.slice(0, -1);
            } else {
                calcExpression = '0';
            }
            document.getElementById('calcDisplay').value = calcExpression;
        }

        function calculate() {
            try {
                let expr = calcExpression
                    .replace(/√ó/g, '*')
                    .replace(/√∑/g, '/')
                    .replace(/%/g, '/100');
                
                let result = eval(expr);
                if (isNaN(result) || !isFinite(result)) throw new Error();
                
                result = Math.round(result * 100000000) / 100000000;
                document.getElementById('calcDisplay').value = result;
                calcExpression = result.toString();
                showNotification('–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä', `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`);
            } catch {
                document.getElementById('calcDisplay').value = '–û—à–∏–±–∫–∞';
                calcExpression = '0';
                showNotification('–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä', '–û—à–∏–±–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è!');
            }
        }

        // ========== –ë–†–ê–£–ó–ï–† ==========
        function browserGo() {
            const input = document.getElementById('browserUrl');
            let url = input.value;
            
            if (!url.startsWith('http')) {
                url = 'https://' + url;
                input.value = url;
            }
            
            document.getElementById('browserFrame').src = url;
            showNotification('–ë—Ä–∞—É–∑–µ—Ä', `–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞: ${url}`);
        }

        function browserBack() {
            const frame = document.getElementById('browserFrame');
            try { frame.contentWindow.history.back(); } catch(e) {}
        }

        function toggleDarkMode() {
            const frame = document.getElementById('browserFrame');
            frame.classList.toggle('dark-mode');
            showNotification('–ë—Ä–∞—É–∑–µ—Ä', '–¢—ë–º–Ω—ã–π —Ä–µ–∂–∏–º ' + 
                (frame.classList.contains('dark-mode') ? '–≤–∫–ª—é—á—ë–Ω' : '–≤—ã–∫–ª—é—á–µ–Ω'));
        }

        document.getElementById('browserUrl').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') browserGo();
        });

        // ========== AI –ü–û–ú–û–©–ù–ò–ö ==========
        const assistantResponses = {
            '–ø—Ä–∏–≤–µ—Ç': '–ü—Ä–∏–≤–µ—Ç! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?',
            '–∫–∞–∫ –¥–µ–ª–∞': '–í—Å—ë –æ—Ç–ª–∏—á–Ω–æ! –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –≤–∞–º!',
            '–ø–æ–º–æ—â—å': '–Ø –º–æ–≥—É: 1. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã 2. –ü–æ–º–æ—á—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ 3. –†–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ —Å–∏—Å—Ç–µ–º–µ',
            '—Å–∏—Å—Ç–µ–º–∞': 'MAX OS 0.01.0 beta - –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö',
            '—Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É': '–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–æ–≤–∞—è –ø–∞–ø–∫–∞"',
            '–±—Ä–∞—É–∑–µ—Ä': '–ë—Ä–∞—É–∑–µ—Ä MAX –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∞–π—Ç—ã',
            '–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä': '–í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏',
            '–æ–±–æ–∏': '–ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É "–û–±–æ–∏" –≤ —Ñ–∞–π–ª–æ–≤–æ–º –º–µ–Ω–µ–¥–∂–µ—Ä–µ',
            '–∏–≥—Ä–∞': 'Geometry Dash - —Ä–∏—Ç–º-–∏–≥—Ä–∞! –ü—Ä—ã–≥–∞–π —á–µ—Ä–µ–∑ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è, –Ω–∞–∂–∏–º–∞–π –ü–†–û–ë–ï–õ –∏–ª–∏ –∫–ª–∏–∫',
            'geometry': '–ö–ª–∞—Å—Å–Ω–∞—è –∏–≥—Ä–∞! –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü–†–û–ë–ï–õ - –ø—Ä—ã–∂–æ–∫, R - —Ä–µ—Å—Ç–∞—Ä—Ç',
            '—Å–ø–∞—Å–∏–±–æ': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –û–±—Ä–∞—â–∞–π—Ç–µ—Å—å!'
        };

        function loadChatHistory() {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            
            const savedHistory = JSON.parse(localStorage.getItem('max_chat_history') || '[]');
            MAX_STORAGE.chatHistory = savedHistory;
            
            chatMessages.innerHTML = savedHistory.map(msg => 
                `<div class="message ${msg.sender}">${msg.text}</div>`
            ).join('');
            
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function saveChatMessage(sender, text) {
            MAX_STORAGE.chatHistory.push({ sender, text, timestamp: new Date().toISOString() });
            if (MAX_STORAGE.chatHistory.length > 50) {
                MAX_STORAGE.chatHistory = MAX_STORAGE.chatHistory.slice(-50);
            }
            localStorage.setItem('max_chat_history', JSON.stringify(MAX_STORAGE.chatHistory));
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            
            const userMsg = document.createElement('div');
            userMsg.className = 'message user';
            userMsg.textContent = message;
            document.getElementById('chatMessages').appendChild(userMsg);
            saveChatMessage('user', message);
            input.value = '';
            
            setTimeout(() => {
                let response = '–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –ø–æ–Ω—è–ª. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–ø—Ä–æ—Å–∏—Ç—å –ø–æ-–¥—Ä—É–≥–æ–º—É.';
                
                const lowerMsg = message.toLowerCase();
                for (const [key, value] of Object.entries(assistantResponses)) {
                    if (lowerMsg.includes(key)) {
                        response = value;
                        break;
                    }
                }
                
                if (response.includes('–Ω–µ –ø–æ–Ω—è–ª')) {
                    const random = [
                        '–Ø –≤—Å—ë –µ—â—ë —É—á—É—Å—å –∏ —Å–∫–æ—Ä–æ –Ω–∞—É—á—É—Å—å –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å!',
                        '–ü–æ–∫–∞ –Ω–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å, –Ω–æ —è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É—é—Å—å!',
                        '–í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –±—Ä–∞—É–∑–µ—Ä–æ–º –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.',
                        '–°–ø—Ä–æ—Å–∏—Ç–µ –º–µ–Ω—è –æ —Å–∏—Å—Ç–µ–º–µ, –∏–≥—Ä–µ –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö!'
                    ];
                    response = random[Math.floor(Math.random() * random.length)];
                }
                
                const assistantMsg = document.createElement('div');
                assistantMsg.className = 'message assistant';
                assistantMsg.textContent = response;
                document.getElementById('chatMessages').appendChild(assistantMsg);
                saveChatMessage('assistant', response);
                
                const chat = document.getElementById('chatMessages');
                chat.scrollTop = chat.scrollHeight;
            }, 500);
        }

        document.getElementById('chatInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // ========== –ë–´–°–¢–†–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ==========
        function changeTheme(theme) {
            const desktop = document.getElementById('desktop');
            desktop.className = 'theme-' + theme;
            showNotification('–¢–µ–º–∞', `–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ ${theme === 'dark' ? '—Ç—ë–º–Ω–∞—è' : theme === 'light' ? '—Å–≤–µ—Ç–ª–∞—è' : '—Å–∏–Ω—è—è'} —Ç–µ–º–∞`);
        }

        function toggleWiFi() {
            MAX_STORAGE.wifiEnabled = !MAX_STORAGE.wifiEnabled;
            const icon = document.getElementById('wifiIcon');
            icon.style.color = MAX_STORAGE.wifiEnabled ? '#4ecdc4' : '#8ba0b5';
            showNotification('Wi-Fi', MAX_STORAGE.wifiEnabled ? '–í–∫–ª—é—á—ë–Ω' : '–í—ã–∫–ª—é—á–µ–Ω');
        }

        function toggleBluetooth() {
            MAX_STORAGE.bluetoothEnabled = !MAX_STORAGE.bluetoothEnabled;
            const icon = document.getElementById('bluetoothIcon');
            icon.style.color = MAX_STORAGE.bluetoothEnabled ? '#4ecdc4' : '#8ba0b5';
            showNotification('Bluetooth', MAX_STORAGE.bluetoothEnabled ? '–í–∫–ª—é—á—ë–Ω' : '–í—ã–∫–ª—é—á–µ–Ω');
        }

        function toggleAirplaneMode() {
            MAX_STORAGE.airplaneMode = !MAX_STORAGE.airplaneMode;
            const icon = document.getElementById('airplaneIcon');
            icon.style.color = MAX_STORAGE.airplaneMode ? '#4ecdc4' : '#8ba0b5';
            showNotification('–†–µ–∂–∏–º –ø–æ–ª—ë—Ç–∞', MAX_STORAGE.airplaneMode ? '–í–∫–ª—é—á—ë–Ω' : '–í—ã–∫–ª—é—á–µ–Ω');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–æ–≤
        document.getElementById('brightnessSlider').addEventListener('input', function() {
            document.getElementById('brightnessValue').textContent = this.value + '%';
            document.getElementById('desktop').style.filter = `brightness(${this.value / 100})`;
        });

        document.getElementById('volumeSlider').addEventListener('input', function() {
            document.getElementById('volumeValue').textContent = this.value + '%';
        });

        // ========== –ó–ê–ü–£–°–ö ==========
        window.onload = bootSystem;
    </script>
</body>
</html>
